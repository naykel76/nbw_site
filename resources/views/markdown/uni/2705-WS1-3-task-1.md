
# Use Set-UID to lift a privilege for a 'normal' program

#### Copy the 'id' program and display the default permissions

```bash
cd ~
# copy 'id' program
cp /usr/bin/id ./myfile1
# run copied program
./myfile1
# output:
uid=1000(seed) gid=1000(seed) groups=1000(seed),120(docker)
```

```bash
-rwxr-xr-x 1 seed seed 47480 Mar 22 20:06 myfile1
```

<question></question>
Q. What is the `euid` for myfile1?
<answer></answer>
When a normal program is executed `euid` = `ruid`, and they both equal the `uid` of the
user who runs the program. Therefore, `euid=uid && ruid=uid`

### Copy 'id' program and set-uid bit to elevate program privilege

By elevating the program privileged the user can access files they would otherwise not be able to access, this is because ...

```bash
cd ~
# copy 'id' program
cp /usr/bin/id ./myfile
# change program owner to root
sudo chown root myfile
# change permissions to include set-uid bit and elevate permissions
sudo chmod 4755 myfile
# run elevated program
./myfile
# output:
uid=1000(seed) gid=1000(seed) euid=0(root) groups=1000(seed),120(docker)
```

```bash
-rwsr-xr-x 1 root seed 47480 Mar 22 20:06 myfile
```

When the `set-uid` bit is is set `ruid` is still equal to the `uid`, but the `euid` is set to the
program owner which in this case is `root` with a id of 0. Therefore, `ruid=uid && euid!=uid`

